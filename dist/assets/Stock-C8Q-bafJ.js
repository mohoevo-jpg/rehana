import{I as f,g as n,r as h,c as r,b as t,j as c,G as w,k,F as b,m as v,o as a,t as d}from"./index-DUS2SrFg.js";import{R as _}from"./ReportPreviewModal-DkvWyncV.js";import{P as S}from"./printer-CBd1wSWY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-Dlap17QE.js";const P={class:"space-y-6"},D={class:"flex justify-between items-center"},B={class:"bg-white shadow rounded-lg overflow-hidden"},C={class:"min-w-full divide-y divide-gray-200"},N={class:"bg-white divide-y divide-gray-200"},R={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},V={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},j={class:"px-6 py-4 whitespace-nowrap text-sm"},F={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800"},I={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},M={__name:"Stock",setup(L){const u=f(),l=n(()=>u.getAllProducts),i=h(!1),m=n(()=>`تاريخ الجرد: ${new Date().toLocaleDateString("ar-IQ")}`),p=[{key:"name",label:"المنتج",class:"text-right"},{key:"stock",label:"الكمية الحالية",class:"text-center"},{key:"status",label:"الحالة",class:"text-center"}],x=n(()=>l.value.map(o=>({name:o.name,stock:o.stock,status:o.stock<=5?"منخفض":"متوفر"}))),g=n(()=>({name:"الإجمالي",stock:l.value.reduce((e,s)=>e+s.stock,0)})),y=()=>{i.value=!0};return(o,e)=>(a(),r("div",P,[t("div",D,[e[2]||(e[2]=t("h2",{class:"text-2xl font-bold text-gray-900"},"المخزون",-1)),t("button",{onClick:y,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[c(k(S),{class:"h-5 w-5 ml-2"}),e[1]||(e[1]=w(" طباعة الجرد ",-1))])]),t("div",B,[t("table",C,[e[3]||(e[3]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"المنتج"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"الكمية الحالية"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"الحالة")])],-1)),t("tbody",N,[(a(!0),r(b,null,v(l.value,s=>(a(),r("tr",{key:s.id},[t("td",R,d(s.name),1),t("td",V,d(s.stock),1),t("td",j,[s.stock<=5?(a(),r("span",F," منخفض ")):(a(),r("span",I," متوفر "))])]))),128))])])]),c(_,{show:i.value,title:"طباعة تقرير المخزون",reportTitle:"تقرير المخزون",subtitle:m.value,columns:p,data:x.value,summary:g.value,onClose:e[0]||(e[0]=s=>i.value=!1)},null,8,["show","subtitle","data","summary"])]))}};export{M as default};
