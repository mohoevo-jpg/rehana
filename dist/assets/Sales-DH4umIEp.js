import{B as v,g as n,r as _,c as d,b as t,j as u,G as k,k as p,F as C,m as S,o as m,t as r,n as P}from"./index-DUS2SrFg.js";import{f as c}from"./currency-DPHm-HqN.js";import{f as x}from"./date-CbKvo9xS.js";import{R as D}from"./ReportPreviewModal-DkvWyncV.js";import{P as B}from"./printer-CBd1wSWY.js";import"./format-MhD4UfPn.js";import"./en-US-dIBtKp69.js";import"./ar-YW_Uz9wj.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-Dlap17QE.js";const R={class:"space-y-6"},I={class:"flex justify-between items-center"},M={class:"bg-white shadow rounded-lg overflow-hidden"},N={class:"min-w-full divide-y divide-gray-200"},V={class:"bg-white divide-y divide-gray-200"},$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},j={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},F={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},L={class:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900"},T={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},W={__name:"Sales",setup(z){const y=v(),o=n(()=>y.sales),i=_(!1),g=n(()=>`تاريخ الطباعة: ${new Date().toLocaleDateString("ar-IQ")}`),h=[{key:"id",label:"رقم الطلب",class:"text-right"},{key:"date",label:"التاريخ",class:"text-center"},{key:"itemsCount",label:"عدد العناصر",class:"text-center"},{key:"total",label:"المجموع",class:"text-left"},{key:"paymentMethod",label:"طريقة الدفع",class:"text-left"}],f=n(()=>o.value.map(a=>({id:`#${a.id}`,date:x(a.date),itemsCount:a.items.length,total:c(a.total),paymentMethod:a.payment.method==="cash"?"نقدي":"بطاقة"}))),w=n(()=>{const a=o.value.reduce((e,l)=>e+l.total,0);return{id:"الإجمالي",itemsCount:o.value.reduce((e,l)=>e+l.items.length,0),total:c(a)}}),b=()=>{i.value=!0};return(a,s)=>(m(),d("div",R,[t("div",I,[s[2]||(s[2]=t("h2",{class:"text-2xl font-bold text-gray-900"},"سجل المبيعات",-1)),t("button",{onClick:b,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[u(p(B),{class:"h-5 w-5 ml-2"}),s[1]||(s[1]=k(" طباعة السجل ",-1))])]),t("div",M,[t("table",N,[s[3]||(s[3]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"رقم الطلب"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"التاريخ"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"عدد العناصر"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"المجموع"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"طريقة الدفع")])],-1)),t("tbody",V,[(m(!0),d(C,null,S(o.value,e=>(m(),d("tr",{key:e.id},[t("td",$,"#"+r(e.id),1),t("td",j,r(p(x)(e.date)),1),t("td",F,r(e.items.length),1),t("td",L,r(p(c)(e.total)),1),t("td",T,[t("span",{class:P({"px-2 py-1 rounded-full text-xs font-semibold":!0,"bg-green-100 text-green-800":e.payment.method==="cash","bg-blue-100 text-blue-800":e.payment.method==="card"})},r(e.payment.method==="cash"?"نقدي":"بطاقة"),3)])]))),128))])])]),u(D,{show:i.value,title:"طباعة سجل المبيعات",reportTitle:"سجل المبيعات",subtitle:g.value,columns:h,data:f.value,summary:w.value,onClose:s[0]||(s[0]=e=>i.value=!1)},null,8,["show","subtitle","data","summary"])]))}};export{W as default};
