# دليل استضافة السيرفر على حاسوبك الشخصي (Self-Hosting)

نعم، يمكنك تحويل حاسوبك الشخصي إلى سيرفر حقيقي يمكن الوصول إليه من أي مكان في العالم. هذا الخيار يوفر تكلفة الاستضافة ولكنه يتطلب بقاء حاسوبك وإنترنت المنزل يعملان طوال الوقت.

هناك طريقتان لفعل ذلك: الطريقة التقليدية (الصعبة وغير الآمنة) والطريقة الحديثة (السهلة والآمنة).

## 1. الشبكة الداخلية (Internal Network / LAN) - الخيار الأسرع محلياً

هذا الخيار يجعل التطبيق يعمل فقط عندما تكون الأجهزة (الهواتف والكمبيوتر) متصلة بنفس شبكة الواي فاي (Wi-Fi) الخاصة بالمحل.

### المميزات:
*   سرعة عالية جداً.
*   لا يتطلب إنترنت قوي (فقط راوتر يربط الأجهزة).
*   لا يتطلب دومين أو إعدادات معقدة.

### الخطوات:
1.  **معرفة IP السيرفر:**
    *   افتح Terminal واكتب `ipconfig`.
    *   ابحث عن `IPv4 Address` (غالباً يبدأ بـ `192.168.1.XXX`).
    *   في حالتك الحالية هو: **`192.168.1.109`**

2.  **تشغيل السيرفر:**
    *   تأكد أن السيرفر يعمل على البورت 3001.

3.  **إعداد تطبيق الموبايل:**
    *   يجب بناء التطبيق بعنوان السيرفر المحلي: `http://192.168.1.109:3001`.

4.  **الوصول من المتصفح:**
    *   افتح متصفح الهاتف واكتب: `http://192.168.1.109:3001`.

---

## 2. الطريقة الأفضل للوصول عن بعد: استخدام Cloudflare Tunnel (مجانية وآمنة)

هذه الطريقة لا تتطلب فتح بورتات في الراوتر (Port Forwarding) وتخفي عنوان IP منزلك الحقيقي للحماية من الهجمات.

### المتطلبات:
1.  **اسم نطاق (Domain):** يجب أن تشتري دومين (مثل `rehana-app.com`)، سعره حوالي 10$ سنوياً.
2.  **حساب Cloudflare:** مجاني.

### الخطوات:

1.  **ربط الدومين بـ Cloudflare:**
    *   أنشئ حساباً على [Cloudflare](https://www.cloudflare.com/).
    *   أضف الدومين الذي اشتريته.
    *   سيطلب منك Cloudflare تغيير الـ "Nameservers" في موقع الدومين (GoDaddy/Namecheap) إلى القيم التي سيعطيك إياها.

2.  **تثبيت Cloudflare Tunnel على حاسوبك:**
    *   في لوحة تحكم Cloudflare، اذهب إلى **Zero Trust** > **Networks** > **Tunnels**.
    *   اضغط **Create a Tunnel**.
    *   اختر **Cloudflared** كنوع الموصل.
    *   سيظهر لك أمر لتثبيت البرنامج على Windows. انسخه ونفذه في الـ PowerShell (كـ Administrator).

3.  **ربط السيرفر:**
    *   بعد التثبيت، ستظهر لك شاشة لإضافة **Public Hostnames**.
    *   أضف رابطاً للباك إند:
        *   **Subdomain:** `api` (ليصبح `api.rehana-app.com`).
        *   **Service:** `http://localhost:3001`.
    *   أضف رابطاً للموبايل (إذا أردت استضافته أيضاً):
        *   **Subdomain:** `app` (ليصبح `app.rehana-app.com`).
        *   **Service:** `http://localhost:3001`.

**النتيجة:** الآن أي شخص في العالم يفتح `api.rehana-app.com` سيتم توجيهه بأمان عبر شبكة Cloudflare إلى السيرفر الذي يعمل على حاسوبك في الغرفة!

---

## 3. الطريقة التقليدية: فتح البورتات (Port Forwarding)

هذه الطريقة تجعل IP منزلك مكشوفاً وتتطلب إعدادات في الراوتر.

1.  **تثبيت IP الحاسوب:** اجعل IP حاسوبك ثابتاً (Static IP) في الشبكة المحلية (مثلاً `192.168.0.100`).
2.  **الدخول للراوتر:** افتح صفحة الراوتر (غالباً `192.168.0.1`).
3.  **إعداد Port Forwarding:** ابحث عن هذا الخيار وقم بتوجيه البورت `3001` (الخارجي) إلى `192.168.0.100:3001` (الداخلي).
4.  **معرفة IP الخارجي:** ابحث في جوجل عن "What is my IP". هذا الرقم هو عنوانك العالمي.
5.  **المشكلة:** غالباً ما يتغير هذا الرقم كلما أعدت تشغيل الراوتر. ستحتاج لخدمة **DDNS** (مثل No-IP) لربط اسم ثابت بالـ IP المتغير.

---

## عيوب ومخاطر استضافة المنزل (يجب أن تعرفها)

1.  **الكهرباء والإنترنت:** إذا انقطعت الكهرباء أو الإنترنت في منزلك، سيتوقف التطبيق عن العمل لدى جميع المستخدمين والكاشير.
2.  **تحديثات Windows:** قد يقوم الويندوز بإعادة تشغيل نفسه للتحديثات فجأة، مما يقطع الخدمة.
3.  **بطء الرفع (Upload Speed):** سرعة استجابة السيرفر تعتمد على سرعة "الرفع" في اشتراك الإنترنت المنزلي، وهي غالباً بطيئة مقارنة بالسيرفرات السحابية.
4.  **الأمان:** في الطريقة التقليدية، أنت تفتح باباً مباشراً لشبكتك المنزلية من الإنترنت. (طريقة Cloudflare تحل هذه المشكلة).

**نصيحتي:**
إذا كان المشروع تجريبياً أو لعدد قليل من المستخدمين، فاستخدم **Cloudflare Tunnel** على حاسوبك.
إذا كان المشروع "بيزنس" حقيقي ومحل يعتمد عليه، فالسيرفر السحابي (VPS) بـ 6$ شهرياً هو استثمار رخيص جداً مقابل راحة البال وضمان العمل 24 ساعة.
